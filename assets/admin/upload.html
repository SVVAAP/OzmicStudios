<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Page</title>
    <!-- Add your CSS link or styles here -->
</head>
<body>
    <header>
        <h1>Admin Panel</h1>
        <button id="logout">Logout</button>
    </header>

    <section id="game-upload">
        <h2>Upload Game</h2>
        <form id="game-upload-form">
            <label for="game-title">Title:</label>
            <input type="text" id="game-title" required><br>

            <label for="game-description">Description:</label>
            <textarea id="game-description" required></textarea><br>

            <label for="game-price">Price:</label>
            <input type="number" id="game-price" required><br>

            <label for="game-image-url">Image URL:</label>
            <input type="text" id="game-image-url" required><br>

            <button type="submit">Upload Game</button>
        </form>
    </section>

    <section id="game-list">
        <h2>Game List</h2>
        <ul id="game-list-container">
            <!-- Game cards will be populated here dynamically -->
        </ul>
    </section>

    <script>
        // Firebase configuration
    const firebaseConfig = {
        apiKey: "AIzaSyB8BFWhzzmsL-xAr9sK_TmXLdlE4q1qaR0",
  authDomain: "ozmic-web-9ed4b.firebaseapp.com",
  databaseURL: "https://ozmic-web-9ed4b-default-rtdb.firebaseio.com",
  projectId: "ozmic-web-9ed4b",
  storageBucket: "ozmic-web-9ed4b.appspot.com",
  messagingSenderId: "529520113248",
  appId: "1:529520113248:web:4ad46077cb041423c83505",
  measurementId: "G-B91Y2PP4MC"
};
// Initialize Firebase
firebase.initializeApp(firebaseConfig);

// Reference to Firestore
const db = firebase.firestore();

// Event listener for game upload form submission
document.getElementById('game-upload-form').addEventListener('submit', (e) => {
  e.preventDefault();

  const title = document.getElementById('game-title').value;
  const description = document.getElementById('game-description').value;
  const price = parseFloat(document.getElementById('game-price').value);
  const imageUrl = document.getElementById('game-image-url').value;

  // Add a new game to Firestore
  db.collection('games').add({
    title: title,
    description: description,
    price: price,
    imageUrl: imageUrl,
  })
  .then((docRef) => {
    console.log('Game added with ID: ', docRef.id);
    // Clear form fields
    document.getElementById('game-upload-form').reset();
  })
  .catch((error) => {
    console.error('Error adding game: ', error);
  });
});



// Event listener for deleting games
document.getElementById('delete-game-button').addEventListener('click', () => {
  const gameId = 'GAME_ID_TO_DELETE'; // Replace with the actual game ID
  db.collection('games').doc(gameId).delete()
    .then(() => {
      console.log('Game deleted successfully');
      // Refresh the list of games
      fetchAndDisplayGames();
    })
    .catch((error) => {
      console.error('Error deleting game: ', error);
    });
});

    </script>
</body>
</html>
